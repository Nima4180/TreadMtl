<!-- Inside results.html, where tire data is displayed -->
<script>
    // Function to add tire to cart
    function addToCart(tireId) {
        fetch('tires.json')
            .then(response => response.json())
            .then(data => {
                const tire = data.find(t => t.id === tireId);
                const quantity = document.getElementById(`quantity-${tireId}`).value;
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.id === tireId);
                if (existingItem) {
                    existingItem.quantity += parseInt(quantity);
                } else {
                    cart.push({...tire, quantity: parseInt(quantity)});
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`${tire.name} added to your cart.`);
                updateCartCount();
            });
    }

    // Function to update the cart count in the header
    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = cart.reduce((acc, item) => acc + item.quantity, 0);
        document.getElementById('cart-count').textContent = cartCount;
    }

    // Initialize cart count on page load
    window.onload = function() {
        updateCartCount();
    };
</script>
